<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Video</title>
</head>
<body>
    <h1>Video</h1>
    <span id="vidID" th:text="${video.getID()}"></span>

    <p th:text="${video.getTitle()}"></p>
    <video width="320" height="240" controls>
        <source th:src="${video.getStreamURL()}" th:type="'video/' + ${video.getFiletype()}">
        Your browser does not support video streaming
    </video>
    <button onclick=like()>LIKE</button>
    <p>Likes: </p><span th:text="${video.getLikes()}"></span>
    <div id="dislikeBtn">DISLIKE</div>
    <p>Dislikes: </p><span th:text="${video.getDislikes()}"></span>
    <p>Views: </p><span th:text="${video.getViews()}"></span>
    <p>Description: </p>
    <p th:text="${video.getDescription()}"></p>

    <script>
        function like() {
            fetch('/api/v1/video/add-like', {
                method: 'PUT',
                headers: {
                    "Content-type": "application/json; charset=UTF-8"
                },
                body: document.getElementById('vidID').value
            }).then(function(response) {
                return response.text();
            }).catch(function(error) {
                console.error(error);
            });
        });
    </script>
</body>
</html>